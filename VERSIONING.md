# Versioning & Release Workflow

This project uses a changelog workflow for managing versions and releases.

## Making Changes

When you are ready to commit changes to the codebase, create a changelog entry:

```bash
make change
```

## Creating a Release

When you're ready to release a new version:

```bash
make bump-version
```

### After Pushing

1. **Create a Pull Request** to merge the version branch into `main`
2. **Merge the PR** - Once merged, the GitHub Action will automatically upload the module to all platforms defined in `meta.json`

## Manual Uploads

If you need to manually upload the current version (for re-uploads or testing):

```bash
# Upload current version to all platforms
make upload

# Dry-run to see what would be uploaded
make upload DRY_RUN=1
```

## Changelogs Directory

The `.changelogs` directory contains changelog files that track changes for the next version release.

### How It Works

1. **Creating a Changelog**: When you make changes, run `make change` to create a new changelog file
2. **Compiling Changelogs**: When `make bump-version` is run, all files here are compiled into `CHANGELOG.md` and then deleted

### Changelog File Structure

Files are named: `<username>-<type>-<timestamp>.json`

Example: `john-smith-patch-20251013143022.json`

```json
{
  "type": "patch|minor|major",
  "message": "Description of the change",
  "by": "Git Username",
  "at": "2025-10-13 14:30:22 UTC"
}
```

### Change Types

- **patch**: Bug fixes, minor changes (0.0.x)
- **minor**: New features, backwards compatible (0.x.0)
- **major**: Breaking changes (x.0.0)

### Modifications

These files are automatically generated by `make change` and consumed by `make bump-version`.
If there was a mistake when generating a changelog file, you can manually create, edit, or delete it.

Editing changelogs after they have been committed should be avoided if possible.
