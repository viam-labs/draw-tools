<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# lib

```go
import "github.com/viam-labs/draw-tools/lib"
```

Package lib provides utility functions and types for writing visualizations.

## Index

- [func ParsePose\(data any\) \(\*commonPB.Pose, error\)](<#ParsePose>)
- [func PoseFromJSON\(data PoseJSON\) \*commonPB.Pose](<#PoseFromJSON>)
- [func PoseToMeters\(pose \*commonPB.Pose\) \*commonPB.Pose](<#PoseToMeters>)
- [type Arrow](<#Arrow>)
  - [func CreateArrow\(pose \*commonPB.Pose, name string, uuid \[\]byte, color \*Color, parentFrame string\) \(\*Arrow, error\)](<#CreateArrow>)
  - [func ParseArrow\(item any\) \(\*Arrow, error\)](<#ParseArrow>)
  - [func ParseArrows\(drawData any\) \(\[\]\*Arrow, error\)](<#ParseArrows>)
- [type ArrowJSON](<#ArrowJSON>)
- [type Color](<#Color>)
  - [func ParseColor\(colorData any, defaultValue Color\) \(Color, error\)](<#ParseColor>)
- [type PoseJSON](<#PoseJSON>)
- [type UUID](<#UUID>)
  - [func GenerateUUID\(\) UUID](<#GenerateUUID>)
  - [func UUIDFromBytes\(bytes \[\]byte\) \(\*UUID, error\)](<#UUIDFromBytes>)
  - [func UUIDFromString\(id string\) \(\*UUID, error\)](<#UUIDFromString>)
  - [func \(u \*UUID\) Bytes\(\) \[\]byte](<#UUID.Bytes>)
  - [func \(u \*UUID\) String\(\) string](<#UUID.String>)


<a name="ParsePose"></a>
## func [ParsePose](<https://github.com/viam-labs/draw-tools/blob/main/lib/pose.go#L35>)

```go
func ParsePose(data any) (*commonPB.Pose, error)
```

ParsePose parses a pose from JSON data. It handles various numeric types and uses default values \(0.0\) for missing components.

Parameters:

- poseData: JSON object containing pose data

Returns the parsed pose or an error if parsing fails.

<a name="PoseFromJSON"></a>
## func [PoseFromJSON](<https://github.com/viam-labs/draw-tools/blob/main/lib/pose.go#L67>)

```go
func PoseFromJSON(data PoseJSON) *commonPB.Pose
```

PoseFromJSON converts a PoseJSON object to a commonPB.Pose. It returns a new pose with the position and orientation values from the JSON data.

Parameters:

- data: PoseJSON object containing pose data

Returns the converted pose.

<a name="PoseToMeters"></a>
## func [PoseToMeters](<https://github.com/viam-labs/draw-tools/blob/main/lib/pose.go#L86>)

```go
func PoseToMeters(pose *commonPB.Pose) *commonPB.Pose
```

PoseToMeters converts a pose's position from millimeters to meters. Only the position components \(X, Y, Z\) are converted; orientation values remain unchanged.

Parameters:

- pose: Pose with position in millimeters

Returns a new pose with position converted to meters.

<a name="Arrow"></a>
## type [Arrow](<https://github.com/viam-labs/draw-tools/blob/main/lib/arrow.go#L23>)

Arrow is a type alias for commonPB.Transform representing a visual arrow in the world state.

```go
type Arrow = commonPB.Transform
```

<a name="CreateArrow"></a>
### func [CreateArrow](<https://github.com/viam-labs/draw-tools/blob/main/lib/arrow.go#L36>)

```go
func CreateArrow(pose *commonPB.Pose, name string, uuid []byte, color *Color, parentFrame string) (*Arrow, error)
```

CreateArrow creates a new arrow transform from individual components. It generates a UUID if none is provided and uses default values for optional parameters.

Parameters:

- pose: Position and orientation of the arrow \(required\)
- name: Name for the arrow frame \(empty string will generate "arrow\-\{uuid\}"\)
- uuid: Optional UUID bytes \(generates new UUID if nil\)
- color: Optional color \(defaults to yellow if nil\)
- parentFrame: Optional parent frame \(defaults to "world" if nil\)

Returns the created arrow transform or an error if creation fails.

<a name="ParseArrow"></a>
### func [ParseArrow](<https://github.com/viam-labs/draw-tools/blob/main/lib/arrow.go#L122>)

```go
func ParseArrow(item any) (*Arrow, error)
```

ParseArrow parses a single arrow from JSON data. It expects an arrow object with required pose and optional fields.

Parameters:

- item: JSON object containing arrow data

Returns the parsed arrow or an error if parsing fails.

<a name="ParseArrows"></a>
### func [ParseArrows](<https://github.com/viam-labs/draw-tools/blob/main/lib/arrow.go#L98>)

```go
func ParseArrows(drawData any) ([]*Arrow, error)
```

ParseArrows parses an array of arrows from JSON data. It expects an array of arrow objects and returns a slice of parsed arrows.

Parameters:

- drawData: JSON array containing arrow objects

Returns a slice of parsed arrows or an error if parsing fails.

<a name="ArrowJSON"></a>
## type [ArrowJSON](<https://github.com/viam-labs/draw-tools/blob/main/lib/arrow.go#L14-L20>)

ArrowJSON represents an arrow configuration in JSON format. It contains all the necessary information to create a visual arrow in the world state.

```go
type ArrowJSON struct {
    Pose        PoseJSON `json:"pose"`                   // Position and orientation (required)
    Name        string   `json:"name"`                   // Name of the arrow frame (optional, defaults to "arrow-{uuid}")
    UUID        string   `json:"uuid,omitempty"`         // UUID string (optional, generates new UUID if not provided)
    Color       Color    `json:"color,omitempty"`        // RGB color (optional, defaults to yellow)
    ParentFrame string   `json:"parent_frame,omitempty"` // Parent reference frame (optional, defaults to "world")
}
```

<a name="Color"></a>
## type [Color](<https://github.com/viam-labs/draw-tools/blob/main/lib/color.go#L7-L11>)

Color represents an RGB color value with red, green, and blue components. Each component is an 8\-bit unsigned integer \(0\-255\).

```go
type Color struct {
    R   uint8 `json:"r"` // Red component (0-255)
    G   uint8 `json:"g"` // Green component (0-255)
    B   uint8 `json:"b"` // Blue component (0-255)
}
```

<a name="ParseColor"></a>
### func [ParseColor](<https://github.com/viam-labs/draw-tools/blob/main/lib/color.go#L21>)

```go
func ParseColor(colorData any, defaultValue Color) (Color, error)
```

ParseColor parses a color from JSON data with validation and clamping. It handles various numeric types and clamps RGB values to the valid range \(0\-255\).

Parameters:

- colorData: JSON object containing color data \(r, g, b fields\)
- defaultValue: Default color to use for missing values

Returns the parsed color with values clamped to 0\-255 range or an error if parsing fails.

<a name="PoseJSON"></a>
## type [PoseJSON](<https://github.com/viam-labs/draw-tools/blob/main/lib/pose.go#L11-L26>)

PoseJSON represents a pose configuration in JSON format. It contains position \(in millimeters\) and orientation information.

```go
type PoseJSON struct {
    // millimeters from the origin
    X   float64 `json:"x,omitempty"`
    // millimeters from the origin
    Y   float64 `json:"y,omitempty"`
    // millimeters from the origin
    Z   float64 `json:"z,omitempty"`
    // z component of a vector defining axis of rotation
    OX  float64 `json:"o_x,omitempty"`
    // x component of a vector defining axis of rotation
    OY  float64 `json:"o_y,omitempty"`
    // y component of a vector defining axis of rotation
    OZ  float64 `json:"o_z,omitempty"`
    // degrees
    Theta float64 `json:"theta,omitempty"`
}
```

<a name="UUID"></a>
## type [UUID](<https://github.com/viam-labs/draw-tools/blob/main/lib/uuid.go#L9-L11>)

UUID is a wrapper around github.com/google/uuid.UUID providing convenient methods. It encapsulates UUID functionality with methods for string and byte conversion.

```go
type UUID struct {
    // contains filtered or unexported fields
}
```

<a name="GenerateUUID"></a>
### func [GenerateUUID](<https://github.com/viam-labs/draw-tools/blob/main/lib/uuid.go#L29>)

```go
func GenerateUUID() UUID
```

GenerateUUID generates a new random UUID. Creates a version 4 \(random\) UUID using the underlying uuid.New\(\) function.

Returns a new random UUID.

<a name="UUIDFromBytes"></a>
### func [UUIDFromBytes](<https://github.com/viam-labs/draw-tools/blob/main/lib/uuid.go#L43>)

```go
func UUIDFromBytes(bytes []byte) (*UUID, error)
```

UUIDFromBytes creates a UUID from a byte array. The byte array must be exactly 16 bytes long and contain valid UUID data.

Parameters:

- bytes: 16\-byte array containing UUID data

Returns the UUID created from bytes or an error if the bytes are invalid.

<a name="UUIDFromString"></a>
### func [UUIDFromString](<https://github.com/viam-labs/draw-tools/blob/main/lib/uuid.go#L62>)

```go
func UUIDFromString(id string) (*UUID, error)
```

UUIDFromString creates a UUID from a string representation. The string must be in standard UUID format \(e.g., "550e8400\-e29b\-41d4\-a716\-446655440000"\). If the string is empty, a new random UUID is generated.

Parameters:

- id: UUID string in standard format

Returns the UUID created from string or an error if the string format is invalid.

<a name="UUID.Bytes"></a>
### func \(\*UUID\) [Bytes](<https://github.com/viam-labs/draw-tools/blob/main/lib/uuid.go#L21>)

```go
func (u *UUID) Bytes() []byte
```

Bytes returns the byte array representation of the UUID. Returns a 16\-byte array containing the UUID data.

<a name="UUID.String"></a>
### func \(\*UUID\) [String](<https://github.com/viam-labs/draw-tools/blob/main/lib/uuid.go#L15>)

```go
func (u *UUID) String() string
```

String returns the string representation of the UUID. Returns the UUID in standard format \(e.g., "550e8400\-e29b\-41d4\-a716\-446655440000"\).

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
